{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://opendatalayer.org/schemas/v1/events/identity/verification_failed.schema.json",
  "title": "Identity Verification Failed",
  "description": "Fired when an identity verification process fails.",
  "type": "object",
  "properties": {
    "verificationId": {
      "type": "string",
      "description": "Unique identifier for the verification request."
    },
    "verificationType": {
      "type": "string",
      "enum": ["kyc", "kyb", "age", "address", "phone", "email", "document", "biometric", "other"],
      "description": "The type of identity verification that was attempted."
    },
    "provider": {
      "type": "string",
      "description": "The verification service provider."
    },
    "userId": {
      "type": "string",
      "description": "Unique identifier for the user whose verification failed."
    },
    "reason": {
      "type": "string",
      "enum": ["document_expired", "document_unreadable", "mismatch", "fraud_detected", "unsupported_document", "timeout", "technical_error", "other"],
      "description": "The reason the verification failed."
    },
    "canRetry": {
      "type": "boolean",
      "description": "Whether the user is allowed to retry the verification."
    }
  },
  "required": ["verificationId"],
  "additionalProperties": false
}
